Use this code at your own risk! No attribution needed.

Adapted for Facebook chat by josePhoenix.
Adapted for Google chat by limitedmage.